function zt(e,r){for(var t=0;t<r.length;t++){const n=r[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const u=Object.getOwnPropertyDescriptor(n,i);u&&Object.defineProperty(e,i,u.get?u:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dr(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var t=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),t}var vt={exports:{}},b={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ye=Symbol.for("react.element"),Gt=Symbol.for("react.portal"),Jt=Symbol.for("react.fragment"),Qt=Symbol.for("react.strict_mode"),Xt=Symbol.for("react.profiler"),Yt=Symbol.for("react.provider"),Zt=Symbol.for("react.context"),er=Symbol.for("react.forward_ref"),tr=Symbol.for("react.suspense"),rr=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),nt=Symbol.iterator;function nr(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var _t={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gt=Object.assign,pt={};function oe(e,r,t){this.props=e,this.context=r,this.refs=pt,this.updater=t||_t}oe.prototype.isReactComponent={};oe.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};oe.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bt(){}bt.prototype=oe.prototype;function je(e,r,t){this.props=e,this.context=r,this.refs=pt,this.updater=t||_t}var Ie=je.prototype=new bt;Ie.constructor=je;gt(Ie,oe.prototype);Ie.isPureReactComponent=!0;var it=Array.isArray,mt=Object.prototype.hasOwnProperty,$e={current:null},Vt={key:!0,ref:!0,__self:!0,__source:!0};function Ft(e,r,t){var n,i={},u=null,f=null;if(r!=null)for(n in r.ref!==void 0&&(f=r.ref),r.key!==void 0&&(u=""+r.key),r)mt.call(r,n)&&!Vt.hasOwnProperty(n)&&(i[n]=r[n]);var y=arguments.length-2;if(y===1)i.children=t;else if(1<y){for(var _=Array(y),V=0;V<y;V++)_[V]=arguments[V+2];i.children=_}if(e&&e.defaultProps)for(n in y=e.defaultProps,y)i[n]===void 0&&(i[n]=y[n]);return{$$typeof:ye,type:e,key:u,ref:f,props:i,_owner:$e.current}}function ir(e,r){return{$$typeof:ye,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Be(e){return typeof e=="object"&&e!==null&&e.$$typeof===ye}function ur(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return r[t]})}var ut=/\/+/g;function Le(e,r){return typeof e=="object"&&e!==null&&e.key!=null?ur(""+e.key):r.toString(36)}function me(e,r,t,n,i){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case ye:case Gt:f=!0}}if(f)return f=e,i=i(f),e=n===""?"."+Le(f,0):n,it(i)?(t="",e!=null&&(t=e.replace(ut,"$&/")+"/"),me(i,r,t,"",function(V){return V})):i!=null&&(Be(i)&&(i=ir(i,t+(!i.key||f&&f.key===i.key?"":(""+i.key).replace(ut,"$&/")+"/")+e)),r.push(i)),1;if(f=0,n=n===""?".":n+":",it(e))for(var y=0;y<e.length;y++){u=e[y];var _=n+Le(u,y);f+=me(u,r,t,_,i)}else if(_=nr(e),typeof _=="function")for(e=_.call(e),y=0;!(u=e.next()).done;)u=u.value,_=n+Le(u,y++),f+=me(u,r,t,_,i);else if(u==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return f}function pe(e,r,t){if(e==null)return e;var n=[],i=0;return me(e,n,"","",function(u){return r.call(t,u,i++)}),n}function or(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var U={current:null},Ve={transition:null},lr={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:Ve,ReactCurrentOwner:$e};function At(){throw Error("act(...) is not supported in production builds of React.")}b.Children={map:pe,forEach:function(e,r,t){pe(e,function(){r.apply(this,arguments)},t)},count:function(e){var r=0;return pe(e,function(){r++}),r},toArray:function(e){return pe(e,function(r){return r})||[]},only:function(e){if(!Be(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};b.Component=oe;b.Fragment=Jt;b.Profiler=Xt;b.PureComponent=je;b.StrictMode=Qt;b.Suspense=tr;b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lr;b.act=At;b.cloneElement=function(e,r,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gt({},e.props),i=e.key,u=e.ref,f=e._owner;if(r!=null){if(r.ref!==void 0&&(u=r.ref,f=$e.current),r.key!==void 0&&(i=""+r.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(_ in r)mt.call(r,_)&&!Vt.hasOwnProperty(_)&&(n[_]=r[_]===void 0&&y!==void 0?y[_]:r[_])}var _=arguments.length-2;if(_===1)n.children=t;else if(1<_){y=Array(_);for(var V=0;V<_;V++)y[V]=arguments[V+2];n.children=y}return{$$typeof:ye,type:e.type,key:i,ref:u,props:n,_owner:f}};b.createContext=function(e){return e={$$typeof:Zt,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yt,_context:e},e.Consumer=e};b.createElement=Ft;b.createFactory=function(e){var r=Ft.bind(null,e);return r.type=e,r};b.createRef=function(){return{current:null}};b.forwardRef=function(e){return{$$typeof:er,render:e}};b.isValidElement=Be;b.lazy=function(e){return{$$typeof:sr,_payload:{_status:-1,_result:e},_init:or}};b.memo=function(e,r){return{$$typeof:rr,type:e,compare:r===void 0?null:r}};b.startTransition=function(e){var r=Ve.transition;Ve.transition={};try{e()}finally{Ve.transition=r}};b.unstable_act=At;b.useCallback=function(e,r){return U.current.useCallback(e,r)};b.useContext=function(e){return U.current.useContext(e)};b.useDebugValue=function(){};b.useDeferredValue=function(e){return U.current.useDeferredValue(e)};b.useEffect=function(e,r){return U.current.useEffect(e,r)};b.useId=function(){return U.current.useId()};b.useImperativeHandle=function(e,r,t){return U.current.useImperativeHandle(e,r,t)};b.useInsertionEffect=function(e,r){return U.current.useInsertionEffect(e,r)};b.useLayoutEffect=function(e,r){return U.current.useLayoutEffect(e,r)};b.useMemo=function(e,r){return U.current.useMemo(e,r)};b.useReducer=function(e,r,t){return U.current.useReducer(e,r,t)};b.useRef=function(e){return U.current.useRef(e)};b.useState=function(e){return U.current.useState(e)};b.useSyncExternalStore=function(e,r,t){return U.current.useSyncExternalStore(e,r,t)};b.useTransition=function(){return U.current.useTransition()};b.version="18.3.1";vt.exports=b;var xt=vt.exports;const w=Kt(xt),Cr=zt({__proto__:null,default:w},[xt]);var he=e=>e.type==="checkbox",ue=e=>e instanceof Date,P=e=>e==null;const St=e=>typeof e=="object";var O=e=>!P(e)&&!Array.isArray(e)&&St(e)&&!ue(e),wt=e=>O(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,ar=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Et=(e,r)=>e.has(ar(r)),fr=e=>{const r=e.constructor&&e.constructor.prototype;return O(r)&&r.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ne&&(e instanceof Blob||e instanceof FileList))&&(t||O(e)))if(r=t?[]:{},!t&&!fr(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=M(e[n]));else return e;return r}var ve=e=>Array.isArray(e)?e.filter(Boolean):[],E=e=>e===void 0,c=(e,r,t)=>{if(!r||!O(e))return t;const n=ve(r.split(/[,[\].]+?/)).reduce((i,u)=>P(i)?i:i[u],e);return E(n)||n===e?E(e[r])?t:e[r]:n},z=e=>typeof e=="boolean",qe=e=>/^\w*$/.test(e),kt=e=>ve(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,r,t)=>{let n=-1;const i=qe(r)?[r]:kt(r),u=i.length,f=u-1;for(;++n<u;){const y=i[n];let _=t;if(n!==f){const V=e[y];_=O(V)||Array.isArray(V)?V:isNaN(+i[n+1])?{}:[]}if(y==="__proto__")return;e[y]=_,e=e[y]}return e};const xe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cr=w.createContext(null),We=()=>w.useContext(cr);var Dt=(e,r,t,n=!0)=>{const i={defaultValues:r._defaultValues};for(const u in e)Object.defineProperty(i,u,{get:()=>{const f=u;return r._proxyFormState[f]!==W.all&&(r._proxyFormState[f]=!n||W.all),t&&(t[f]=!0),e[f]}});return i},I=e=>O(e)&&!Object.keys(e).length,Ct=(e,r,t,n)=>{t(e);const{name:i,...u}=e;return I(u)||Object.keys(u).length>=Object.keys(r).length||Object.keys(u).find(f=>r[f]===(!n||W.all))},Fe=e=>Array.isArray(e)?e:[e],Rt=(e,r,t)=>!e||!r||e===r||Fe(e).some(n=>n&&(t?n===r:n.startsWith(r)||r.startsWith(n)));function He(e){const r=w.useRef(e);r.current=e,w.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function dr(e){const r=We(),{control:t=r.control,disabled:n,name:i,exact:u}=e||{},[f,y]=w.useState(t._formState),_=w.useRef(!0),V=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=w.useRef(i);return p.current=i,He({disabled:n,next:g=>_.current&&Rt(p.current,g.name,u)&&Ct(g,V.current,t._updateFormState)&&y({...t._formState,...g}),subject:t._subjects.state}),w.useEffect(()=>(_.current=!0,V.current.isValid&&t._updateValid(!0),()=>{_.current=!1}),[t]),Dt(f,t,V.current,!1)}var K=e=>typeof e=="string",Ot=(e,r,t,n,i)=>K(e)?(n&&r.watch.add(e),c(t,e,i)):Array.isArray(e)?e.map(u=>(n&&r.watch.add(u),c(t,u))):(n&&(r.watchAll=!0),t);function yr(e){const r=We(),{control:t=r.control,name:n,defaultValue:i,disabled:u,exact:f}=e||{},y=w.useRef(n);y.current=n,He({disabled:u,subject:t._subjects.values,next:p=>{Rt(y.current,p.name,f)&&V(M(Ot(y.current,t._names,p.values||t._formValues,!1,i)))}});const[_,V]=w.useState(t._getWatch(n,i));return w.useEffect(()=>t._removeUnmounted()),_}function hr(e){const r=We(),{name:t,disabled:n,control:i=r.control,shouldUnregister:u}=e,f=Et(i._names.array,t),y=yr({control:i,name:t,defaultValue:c(i._formValues,t,c(i._defaultValues,t,e.defaultValue)),exact:!0}),_=dr({control:i,name:t}),V=w.useRef(i.register(t,{...e.rules,value:y,...z(e.disabled)?{disabled:e.disabled}:{}}));return w.useEffect(()=>{const p=i._options.shouldUnregister||u,g=(N,H)=>{const T=c(i._fields,N);T&&(T._f.mount=H)};if(g(t,!0),p){const N=M(c(i._options.defaultValues,t));S(i._defaultValues,t,N),E(c(i._formValues,t))&&S(i._formValues,t,N)}return()=>{(f?p&&!i._state.action:p)?i.unregister(t):g(t,!1)}},[t,i,f,u]),w.useEffect(()=>{c(i._fields,t)&&i._updateDisabledField({disabled:n,fields:i._fields,name:t,value:c(i._fields,t)._f.value})},[n,t,i]),{field:{name:t,value:y,...z(n)||_.disabled?{disabled:_.disabled||n}:{},onChange:w.useCallback(p=>V.current.onChange({target:{value:wt(p),name:t},type:xe.CHANGE}),[t]),onBlur:w.useCallback(()=>V.current.onBlur({target:{value:c(i._formValues,t),name:t},type:xe.BLUR}),[t,i]),ref:p=>{const g=c(i._fields,t);g&&p&&(g._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:N=>p.setCustomValidity(N),reportValidity:()=>p.reportValidity()})}},formState:_,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(_.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(_.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(_.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(_.validatingFields,t)},error:{enumerable:!0,get:()=>c(_.errors,t)}})}}const Rr=e=>e.render(hr(e));var vr=(e,r,t,n,i)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:i||!0}}:{},ot=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched}),lt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const de=(e,r,t,n)=>{for(const i of t||Object.keys(e)){const u=c(e,i);if(u){const{_f:f,...y}=u;if(f){if(f.refs&&f.refs[0]&&r(f.refs[0],i)&&!n)break;if(f.ref&&r(f.ref,f.name)&&!n)break;de(y,r)}else O(y)&&de(y,r)}}};var _r=(e,r,t)=>{const n=ve(c(e,t));return S(n,"root",r[t]),S(e,t,n),e},ze=e=>e.type==="file",Z=e=>typeof e=="function",Se=e=>{if(!Ne)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ae=e=>K(e),Ke=e=>e.type==="radio",we=e=>e instanceof RegExp;const at={value:!1,isValid:!1},ft={value:!0,isValid:!0};var Tt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!E(e[0].attributes.value)?E(e[0].value)||e[0].value===""?ft:{value:e[0].value,isValid:!0}:ft:at}return at};const ct={isValid:!1,value:null};var Lt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ct):ct;function dt(e,r,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||z(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:r}}var ie=e=>O(e)&&!we(e)?e:{value:e,message:""},yt=async(e,r,t,n,i)=>{const{ref:u,refs:f,required:y,maxLength:_,minLength:V,min:p,max:g,pattern:N,validate:H,name:T,valueAsNumber:De,mount:X,disabled:Y}=e._f,F=c(r,T);if(!X||Y)return{};const G=f?f[0]:u,J=m=>{n&&G.reportValidity&&(G.setCustomValidity(z(m)?"":m||""),G.reportValidity())},D={},re=Ke(u),_e=he(u),ee=re||_e,se=(De||ze(u))&&E(u.value)&&E(F)||Se(u)&&u.value===""||F===""||Array.isArray(F)&&!F.length,$=vr.bind(null,T,t,D),ge=(m,A,C,L=Q.maxLength,q=Q.minLength)=>{const B=m?A:C;D[T]={type:m?L:q,message:B,ref:u,...$(m?L:q,B)}};if(i?!Array.isArray(F)||!F.length:y&&(!ee&&(se||P(F))||z(F)&&!F||_e&&!Tt(f).isValid||re&&!Lt(f).isValid)){const{value:m,message:A}=Ae(y)?{value:!!y,message:y}:ie(y);if(m&&(D[T]={type:Q.required,message:A,ref:G,...$(Q.required,A)},!t))return J(A),D}if(!se&&(!P(p)||!P(g))){let m,A;const C=ie(g),L=ie(p);if(!P(F)&&!isNaN(F)){const q=u.valueAsNumber||F&&+F;P(C.value)||(m=q>C.value),P(L.value)||(A=q<L.value)}else{const q=u.valueAsDate||new Date(F),B=fe=>new Date(new Date().toDateString()+" "+fe),le=u.type=="time",ae=u.type=="week";K(C.value)&&F&&(m=le?B(F)>B(C.value):ae?F>C.value:q>new Date(C.value)),K(L.value)&&F&&(A=le?B(F)<B(L.value):ae?F<L.value:q<new Date(L.value))}if((m||A)&&(ge(!!m,C.message,L.message,Q.max,Q.min),!t))return J(D[T].message),D}if((_||V)&&!se&&(K(F)||i&&Array.isArray(F))){const m=ie(_),A=ie(V),C=!P(m.value)&&F.length>+m.value,L=!P(A.value)&&F.length<+A.value;if((C||L)&&(ge(C,m.message,A.message),!t))return J(D[T].message),D}if(N&&!se&&K(F)){const{value:m,message:A}=ie(N);if(we(m)&&!F.match(m)&&(D[T]={type:Q.pattern,message:A,ref:u,...$(Q.pattern,A)},!t))return J(A),D}if(H){if(Z(H)){const m=await H(F,r),A=dt(m,G);if(A&&(D[T]={...A,...$(Q.validate,A.message)},!t))return J(A.message),D}else if(O(H)){let m={};for(const A in H){if(!I(m)&&!t)break;const C=dt(await H[A](F,r),G,A);C&&(m={...C,...$(A,C.message)},J(C.message),t&&(D[T]=m))}if(!I(m)&&(D[T]={ref:G,...m},!t))return D}}return J(!0),D};function gr(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=E(e)?n++:e[r[n++]];return e}function pr(e){for(const r in e)if(e.hasOwnProperty(r)&&!E(e[r]))return!1;return!0}function R(e,r){const t=Array.isArray(r)?r:qe(r)?[r]:kt(r),n=t.length===1?e:gr(e,t),i=t.length-1,u=t[i];return n&&delete n[u],i!==0&&(O(n)&&I(n)||Array.isArray(n)&&pr(n))&&R(e,t.slice(0,-1)),e}var Pe=()=>{let e=[];return{get observers(){return e},next:i=>{for(const u of e)u.next&&u.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(u=>u!==i)}}),unsubscribe:()=>{e=[]}}},Ee=e=>P(e)||!St(e);function te(e,r){if(Ee(e)||Ee(r))return e===r;if(ue(e)&&ue(r))return e.getTime()===r.getTime();const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(const i of t){const u=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const f=r[i];if(ue(u)&&ue(f)||O(u)&&O(f)||Array.isArray(u)&&Array.isArray(f)?!te(u,f):u!==f)return!1}}return!0}var Pt=e=>e.type==="select-multiple",br=e=>Ke(e)||he(e),Ue=e=>Se(e)&&e.isConnected,Ut=e=>{for(const r in e)if(Z(e[r]))return!0;return!1};function ke(e,r={}){const t=Array.isArray(e);if(O(e)||t)for(const n in e)Array.isArray(e[n])||O(e[n])&&!Ut(e[n])?(r[n]=Array.isArray(e[n])?[]:{},ke(e[n],r[n])):P(e[n])||(r[n]=!0);return r}function Mt(e,r,t){const n=Array.isArray(e);if(O(e)||n)for(const i in e)Array.isArray(e[i])||O(e[i])&&!Ut(e[i])?E(r)||Ee(t[i])?t[i]=Array.isArray(e[i])?ke(e[i],[]):{...ke(e[i])}:Mt(e[i],P(r)?{}:r[i],t[i]):t[i]=!te(e[i],r[i]);return t}var be=(e,r)=>Mt(e,r,ke(r)),jt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>E(e)?e:r?e===""?NaN:e&&+e:t&&K(e)?new Date(e):n?n(e):e;function Me(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return ze(r)?r.files:Ke(r)?Lt(e.refs).value:Pt(r)?[...r.selectedOptions].map(({value:t})=>t):he(r)?Tt(e.refs).value:jt(E(r.value)?e.ref.value:r.value,e)}var mr=(e,r,t,n)=>{const i={};for(const u of e){const f=c(r,u);f&&S(i,u,f._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:n}},ce=e=>E(e)?e:we(e)?e.source:O(e)?we(e.value)?e.value.source:e.value:e,Vr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ht(e,r,t){const n=c(e,t);if(n||qe(t))return{error:n,name:t};const i=t.split(".");for(;i.length;){const u=i.join("."),f=c(r,u),y=c(e,u);if(f&&!Array.isArray(f)&&t!==u)return{name:t};if(y&&y.type)return{name:u,error:y};i.pop()}return{name:t}}var Fr=(e,r,t,n,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(r||e):(t?n.isOnBlur:i.isOnBlur)?!e:(t?n.isOnChange:i.isOnChange)?e:!0,Ar=(e,r)=>!ve(c(e,r)).length&&R(e,r);const xr={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function Sr(e={}){let r={...xr,...e},t={submitCount:0,isDirty:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},i=O(r.defaultValues)||O(r.values)?M(r.defaultValues||r.values)||{}:{},u=r.shouldUnregister?{}:M(i),f={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,V=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Pe(),array:Pe(),state:Pe()},N=ot(r.mode),H=ot(r.reValidateMode),T=r.criteriaMode===W.all,De=s=>o=>{clearTimeout(V),V=setTimeout(s,o)},X=async s=>{if(p.isValid||s){const o=r.resolver?I((await ee()).errors):await $(n,!0);o!==t.isValid&&g.state.next({isValid:o})}},Y=(s,o)=>{(p.isValidating||p.validatingFields)&&((s||Array.from(y.mount)).forEach(l=>{l&&(o?S(t.validatingFields,l,o):R(t.validatingFields,l))}),g.state.next({validatingFields:t.validatingFields,isValidating:!I(t.validatingFields)}))},F=(s,o=[],l,h,d=!0,a=!0)=>{if(h&&l){if(f.action=!0,a&&Array.isArray(c(n,s))){const v=l(c(n,s),h.argA,h.argB);d&&S(n,s,v)}if(a&&Array.isArray(c(t.errors,s))){const v=l(c(t.errors,s),h.argA,h.argB);d&&S(t.errors,s,v),Ar(t.errors,s)}if(p.touchedFields&&a&&Array.isArray(c(t.touchedFields,s))){const v=l(c(t.touchedFields,s),h.argA,h.argB);d&&S(t.touchedFields,s,v)}p.dirtyFields&&(t.dirtyFields=be(i,u)),g.state.next({name:s,isDirty:m(s,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(u,s,o)},G=(s,o)=>{S(t.errors,s,o),g.state.next({errors:t.errors})},J=s=>{t.errors=s,g.state.next({errors:t.errors,isValid:!1})},D=(s,o,l,h)=>{const d=c(n,s);if(d){const a=c(u,s,E(l)?c(i,s):l);E(a)||h&&h.defaultChecked||o?S(u,s,o?a:Me(d._f)):L(s,a),f.mount&&X()}},re=(s,o,l,h,d)=>{let a=!1,v=!1;const x={name:s},k=!!(c(n,s)&&c(n,s)._f.disabled);if(!l||h){p.isDirty&&(v=t.isDirty,t.isDirty=x.isDirty=m(),a=v!==x.isDirty);const j=k||te(c(i,s),o);v=!!(!k&&c(t.dirtyFields,s)),j||k?R(t.dirtyFields,s):S(t.dirtyFields,s,!0),x.dirtyFields=t.dirtyFields,a=a||p.dirtyFields&&v!==!j}if(l){const j=c(t.touchedFields,s);j||(S(t.touchedFields,s,l),x.touchedFields=t.touchedFields,a=a||p.touchedFields&&j!==l)}return a&&d&&g.state.next(x),a?x:{}},_e=(s,o,l,h)=>{const d=c(t.errors,s),a=p.isValid&&z(o)&&t.isValid!==o;if(e.delayError&&l?(_=De(()=>G(s,l)),_(e.delayError)):(clearTimeout(V),_=null,l?S(t.errors,s,l):R(t.errors,s)),(l?!te(d,l):d)||!I(h)||a){const v={...h,...a&&z(o)?{isValid:o}:{},errors:t.errors,name:s};t={...t,...v},g.state.next(v)}},ee=async s=>{Y(s,!0);const o=await r.resolver(u,r.context,mr(s||y.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return Y(s),o},se=async s=>{const{errors:o}=await ee(s);if(s)for(const l of s){const h=c(o,l);h?S(t.errors,l,h):R(t.errors,l)}else t.errors=o;return o},$=async(s,o,l={valid:!0})=>{for(const h in s){const d=s[h];if(d){const{_f:a,...v}=d;if(a){const x=y.array.has(a.name);Y([h],!0);const k=await yt(d,u,T,r.shouldUseNativeValidation&&!o,x);if(Y([h]),k[a.name]&&(l.valid=!1,o))break;!o&&(c(k,a.name)?x?_r(t.errors,k,a.name):S(t.errors,a.name,k[a.name]):R(t.errors,a.name))}v&&await $(v,o,l)}}return l.valid},ge=()=>{for(const s of y.unMount){const o=c(n,s);o&&(o._f.refs?o._f.refs.every(l=>!Ue(l)):!Ue(o._f.ref))&&Ce(s)}y.unMount=new Set},m=(s,o)=>(s&&o&&S(u,s,o),!te(Ge(),i)),A=(s,o,l)=>Ot(s,y,{...f.mount?u:E(o)?i:K(s)?{[s]:o}:o},l,o),C=s=>ve(c(f.mount?u:i,s,e.shouldUnregister?c(i,s,[]):[])),L=(s,o,l={})=>{const h=c(n,s);let d=o;if(h){const a=h._f;a&&(!a.disabled&&S(u,s,jt(o,a)),d=Se(a.ref)&&P(o)?"":o,Pt(a.ref)?[...a.ref.options].forEach(v=>v.selected=d.includes(v.value)):a.refs?he(a.ref)?a.refs.length>1?a.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(d)?!!d.find(x=>x===v.value):d===v.value)):a.refs[0]&&(a.refs[0].checked=!!d):a.refs.forEach(v=>v.checked=v.value===d):ze(a.ref)?a.ref.value="":(a.ref.value=d,a.ref.type||g.values.next({name:s,values:{...u}})))}(l.shouldDirty||l.shouldTouch)&&re(s,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&fe(s)},q=(s,o,l)=>{for(const h in o){const d=o[h],a="".concat(s,".").concat(h),v=c(n,a);(y.array.has(s)||!Ee(d)||v&&!v._f)&&!ue(d)?q(a,d,l):L(a,d,l)}},B=(s,o,l={})=>{const h=c(n,s),d=y.array.has(s),a=M(o);S(u,s,a),d?(g.array.next({name:s,values:{...u}}),(p.isDirty||p.dirtyFields)&&l.shouldDirty&&g.state.next({name:s,dirtyFields:be(i,u),isDirty:m(s,a)})):h&&!h._f&&!P(a)?q(s,a,l):L(s,a,l),lt(s,y)&&g.state.next({...t}),g.values.next({name:f.mount?s:void 0,values:{...u}})},le=async s=>{f.mount=!0;const o=s.target;let l=o.name,h=!0;const d=c(n,l),a=()=>o.type?Me(d._f):wt(s),v=x=>{h=Number.isNaN(x)||x===c(u,l,x)};if(d){let x,k;const j=a(),ne=s.type===xe.BLUR||s.type===xe.FOCUS_OUT,qt=!Vr(d._f)&&!r.resolver&&!c(t.errors,l)&&!d._f.deps||Fr(ne,c(t.touchedFields,l),t.isSubmitted,H,N),Oe=lt(l,y,ne);S(u,l,j),ne?(d._f.onBlur&&d._f.onBlur(s),_&&_(0)):d._f.onChange&&d._f.onChange(s);const Te=re(l,j,ne,!1),Wt=!I(Te)||Oe;if(!ne&&g.values.next({name:l,type:s.type,values:{...u}}),qt)return p.isValid&&X(),Wt&&g.state.next({name:l,...Oe?{}:Te});if(!ne&&Oe&&g.state.next({...t}),r.resolver){const{errors:rt}=await ee([l]);if(v(j),h){const Ht=ht(t.errors,n,l),st=ht(rt,n,Ht.name||l);x=st.error,l=st.name,k=I(rt)}}else Y([l],!0),x=(await yt(d,u,T,r.shouldUseNativeValidation))[l],Y([l]),v(j),h&&(x?k=!1:p.isValid&&(k=await $(n,!0)));h&&(d._f.deps&&fe(d._f.deps),_e(l,k,x,Te))}},ae=(s,o)=>{if(c(t.errors,o)&&s.focus)return s.focus(),1},fe=async(s,o={})=>{let l,h;const d=Fe(s);if(r.resolver){const a=await se(E(s)?s:d);l=I(a),h=s?!d.some(v=>c(a,v)):l}else s?(h=(await Promise.all(d.map(async a=>{const v=c(n,a);return await $(v&&v._f?{[a]:v}:v)}))).every(Boolean),!(!h&&!t.isValid)&&X()):h=l=await $(n);return g.state.next({...!K(s)||p.isValid&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),o.shouldFocus&&!h&&de(n,ae,s?d:y.mount),h},Ge=s=>{const o={...f.mount?u:i};return E(s)?o:K(s)?c(o,s):s.map(l=>c(o,l))},Je=(s,o)=>({invalid:!!c((o||t).errors,s),isDirty:!!c((o||t).dirtyFields,s),isTouched:!!c((o||t).touchedFields,s),isValidating:!!c((o||t).validatingFields,s),error:c((o||t).errors,s)}),It=s=>{s&&Fe(s).forEach(o=>R(t.errors,o)),g.state.next({errors:s?t.errors:{}})},Qe=(s,o,l)=>{const h=(c(n,s,{_f:{}})._f||{}).ref,d=c(t.errors,s)||{},{ref:a,message:v,type:x,...k}=d;S(t.errors,s,{...k,...o,ref:h}),g.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},$t=(s,o)=>Z(s)?g.values.subscribe({next:l=>s(A(void 0,o),l)}):A(s,o,!0),Ce=(s,o={})=>{for(const l of s?Fe(s):y.mount)y.mount.delete(l),y.array.delete(l),o.keepValue||(R(n,l),R(u,l)),!o.keepError&&R(t.errors,l),!o.keepDirty&&R(t.dirtyFields,l),!o.keepTouched&&R(t.touchedFields,l),!o.keepIsValidating&&R(t.validatingFields,l),!r.shouldUnregister&&!o.keepDefaultValue&&R(i,l);g.values.next({values:{...u}}),g.state.next({...t,...o.keepDirty?{isDirty:m()}:{}}),!o.keepIsValid&&X()},Xe=({disabled:s,name:o,field:l,fields:h,value:d})=>{if(z(s)&&f.mount||s){const a=s?void 0:E(d)?Me(l?l._f:c(h,o)._f):d;S(u,o,a),re(o,a,!1,!1,!0)}},Re=(s,o={})=>{let l=c(n,s);const h=z(o.disabled);return S(n,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...o}}),y.mount.add(s),l?Xe({field:l,disabled:o.disabled,name:s,value:o.value}):D(s,!0,o.value),{...h?{disabled:o.disabled}:{},...r.progressive?{required:!!o.required,min:ce(o.min),max:ce(o.max),minLength:ce(o.minLength),maxLength:ce(o.maxLength),pattern:ce(o.pattern)}:{},name:s,onChange:le,onBlur:le,ref:d=>{if(d){Re(s,o),l=c(n,s);const a=E(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,v=br(a),x=l._f.refs||[];if(v?x.find(k=>k===a):a===l._f.ref)return;S(n,s,{_f:{...l._f,...v?{refs:[...x.filter(Ue),a,...Array.isArray(c(i,s))?[{}]:[]],ref:{type:a.type,name:s}}:{ref:a}}}),D(s,!1,void 0,a)}else l=c(n,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(Et(y.array,s)&&f.action)&&y.unMount.add(s)}}},Ye=()=>r.shouldFocusError&&de(n,ae,y.mount),Bt=s=>{z(s)&&(g.state.next({disabled:s}),de(n,(o,l)=>{const h=c(n,l);h&&(o.disabled=h._f.disabled||s,Array.isArray(h._f.refs)&&h._f.refs.forEach(d=>{d.disabled=h._f.disabled||s}))},0,!1))},Ze=(s,o)=>async l=>{let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=M(u);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:a,values:v}=await ee();t.errors=a,d=v}else await $(n);if(R(t.errors,"root"),I(t.errors)){g.state.next({errors:{}});try{await s(d,l)}catch(a){h=a}}else o&&await o({...t.errors},l),Ye(),setTimeout(Ye);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Nt=(s,o={})=>{c(n,s)&&(E(o.defaultValue)?B(s,M(c(i,s))):(B(s,o.defaultValue),S(i,s,M(o.defaultValue))),o.keepTouched||R(t.touchedFields,s),o.keepDirty||(R(t.dirtyFields,s),t.isDirty=o.defaultValue?m(s,M(c(i,s))):m()),o.keepError||(R(t.errors,s),p.isValid&&X()),g.state.next({...t}))},et=(s,o={})=>{const l=s?M(s):i,h=M(l),d=I(s),a=d?i:h;if(o.keepDefaultValues||(i=l),!o.keepValues){if(o.keepDirtyValues)for(const v of y.mount)c(t.dirtyFields,v)?S(a,v,c(u,v)):B(v,c(a,v));else{if(Ne&&E(s))for(const v of y.mount){const x=c(n,v);if(x&&x._f){const k=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Se(k)){const j=k.closest("form");if(j){j.reset();break}}}}n={}}u=e.shouldUnregister?o.keepDefaultValues?M(i):{}:M(a),g.array.next({values:{...a}}),g.values.next({values:{...a}})}y={mount:o.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!p.isValid||!!o.keepIsValid||!!o.keepDirtyValues,f.watch=!!e.shouldUnregister,g.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:d?!1:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!te(s,i)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?[]:o.keepDirtyValues?o.keepDefaultValues&&u?be(i,u):t.dirtyFields:o.keepDefaultValues&&s?be(i,s):{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},tt=(s,o)=>et(Z(s)?s(u):s,o);return{control:{register:Re,unregister:Ce,getFieldState:Je,handleSubmit:Ze,setError:Qe,_executeSchema:ee,_getWatch:A,_getDirty:m,_updateValid:X,_removeUnmounted:ge,_updateFieldArray:F,_updateDisabledField:Xe,_getFieldArray:C,_reset:et,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(s=>{tt(s,r.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Bt,_subjects:g,_proxyFormState:p,_setErrors:J,get _fields(){return n},get _formValues(){return u},get _state(){return f},set _state(s){f=s},get _defaultValues(){return i},get _names(){return y},set _names(s){y=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:fe,register:Re,handleSubmit:Ze,watch:$t,setValue:B,getValues:Ge,reset:tt,resetField:Nt,clearErrors:It,unregister:Ce,setError:Qe,setFocus:(s,o={})=>{const l=c(n,s),h=l&&l._f;if(h){const d=h.refs?h.refs[0]:h.ref;d.focus&&(d.focus(),o.shouldSelect&&d.select())}},getFieldState:Je}}function Or(e={}){const r=w.useRef(),t=w.useRef(),[n,i]=w.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Sr(e),formState:n});const u=r.current.control;return u._options=e,He({subject:u._subjects.state,next:f=>{Ct(f,u._proxyFormState,u._updateFormState,!0)&&i({...u._formState})}}),w.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),w.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==n.isDirty&&u._subjects.state.next({isDirty:f})}},[u,n.isDirty]),w.useEffect(()=>{e.values&&!te(e.values,t.current)?(u._reset(e.values,u._options.resetOptions),t.current=e.values,i(f=>({...f}))):u._resetDefaultValues()},[e.values,u]),w.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),w.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),w.useEffect(()=>{e.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[e.shouldUnregister,u]),r.current.formState=Dt(n,u),r.current}export{Rr as C,w as R,Cr as a,Dr as b,Kt as g,xt as r,Or as u};
