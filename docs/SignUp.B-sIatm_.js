import{j as f,C as ce,O as Ce,o as $e,B as Se,T as _e,p as ie,q as Me,s as Re,R as Ve,t as te,v as re}from"./mui.CDg8bc38.js";import{u as Ae,C as be}from"./reactHookForm.CjeQGlOq.js";import{r as R,c as ge}from"./vendor.ByHWR8bp.js";import{u as Le,n as we}from"./index.Dzife5_v.js";const Be=({onImageChange:t})=>{const[e,r]=R.useState("Upload your photo"),a=c=>{const o=c.split("."),l=o[o.length-1].toLowerCase();return["jpg","jpeg","png"].includes(l)},i=c=>parseFloat((c.size/1048576).toFixed(2))<5,n=c=>{const o=c.target.files?c.target.files[0]:null;o?a(o.name)?i(o)?(r(o.name),t(o)):r("file is not an image"):r("file is too big"):r("Upload your photo")};return f.jsxs(ce,{component:"div",className:"fileLoader__wrapper",children:[f.jsx(Ce,{sx:{display:"none"},id:"file-upload",type:"file",onChange:n}),f.jsxs($e,{htmlFor:"file-upload",sx:{display:"flex",width:"100%"},children:[f.jsx(Se,{variant:"outlined",component:"span",sx:{minWidth:"auto",display:"flex"},children:"Upload"}),f.jsx(_e,{variant:"main",sx:{padding:"14px 16px",cursor:"text"},children:e})]})]})};function ke(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ke(Object(r),!0).forEach(function(a){Ee(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Ne(t){var e=function(r,a){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var n=i.call(r,a||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}(t,"string");return typeof e=="symbol"?e:e+""}function Ee(t,e,r){return(e=Ne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ue(t,e){if(t==null)return{};var r,a,i=function(c,o){if(c==null)return{};var l,p,s={},m=Object.keys(c);for(p=0;p<m.length;p++)l=m[p],o.indexOf(l)>=0||(s[l]=c[l]);return s}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(a=0;a<n.length;a++)r=n[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function je(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function Te(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,p){if(l){if(typeof l=="string")return je(l,p);var s=Object.prototype.toString.call(l).slice(8,-1);return s==="Object"&&l.constructor&&(s=l.constructor.name),s==="Map"||s==="Set"?Array.from(l):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?je(l,p):void 0}}(t))||e){r&&(t=r);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return c=l.done,l},e:function(l){o=!0,n=l},f:function(){try{c||r.return==null||r.return()}finally{if(o)throw n}}}}function ue(t,e){var r,a=e.replacementChars,i=e.replacement,n=e.separate,c=a,o="",l=Te(t);try{for(l.s();!(r=l.n()).done;){var p,s=r.value,m=!Object.prototype.hasOwnProperty.call(i,s)&&((p=i[c[0]])===null||p===void 0?void 0:p.test(s));(n&&s===c[0]||m)&&(c=c.slice(1),o+=s)}}catch(v){l.e(v)}finally{l.f()}return o}function pe(t){return t.length>0?Ee({},t,/./):{}}function ze(t,e){var r,a=e.mask,i=e.replacement,n=e.showMask,c=0,o="",l=Te(a);try{for(l.s();!(r=l.n()).done;){var p=r.value;if(!n&&t[c]===void 0)break;Object.prototype.hasOwnProperty.call(i,p)&&t[c]!==void 0?o+=t[c++]:o+=p}}catch(s){l.e(s)}finally{l.f()}return o}function Xe(t,e){for(var r=e.mask,a=e.replacement,i=[],n=0;n<r.length;n++){var c,o=(c=t[n])!==null&&c!==void 0?c:r[n],l=Object.prototype.hasOwnProperty.call(a,o)?"replacement":t[n]!==void 0&&t[n]!==r[n]?"input":"mask";i.push({type:l,value:o,index:n})}return i}function xe(t,e){for(var r=e.start,a=r===void 0?0:r,i=e.end,n=e.mask,c=e.replacement,o=e.separate,l=t.slice(a,i),p=n.slice(a,i),s="",m=0;m<p.length;m++){var v=Object.prototype.hasOwnProperty.call(c,p[m]);v&&l[m]!==void 0&&l[m]!==p[m]?s+=l[m]:v&&o&&(s+=p[m])}return s}function Oe(t){for(var e=t.mask,r=t.replacement,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=typeof r=="string"?pe(r):r,n=["[","]","\\","/","^","$",".","|","?","*","+","(",")","{","}"],c="",o=0;o<e.length;o++){var l=Object.prototype.hasOwnProperty.call(i,e[o]),p=a?"(?!".concat(e[o],")"):"";o===0&&(c+="^"),c+=l?"".concat(p,"(").concat(i[e[o]].toString().slice(1,-1),")"):n.includes(e[o])?"\\".concat(e[o]):e[o],o===e.length-1&&(c+="$")}return c}function De(t,e,r){return e=G(e),function(a,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(a)}(t,fe()?Reflect.construct(e,r||[],G(t).constructor):e.apply(t,r))}function fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fe=function(){return!!t})()}function de(t){return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(t)}function Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function He(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ee(t,e)}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(t)}function ee(t,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ee(t,e)}function me(t){var e=typeof Map=="function"?new Map:void 0;return me=function(r){if(r===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch(n){return typeof i=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return function(i,n,c){if(fe())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,n);var l=new(i.bind.apply(i,o));return c&&ee(l,c.prototype),l}(r,arguments,G(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ee(a,r)},me(t)}var W=function(t){function e(r,a){var i;return Ze(this,e),(i=De(this,e,[r])).name="SyntheticChangeError",i.cause=a,i}return Qe(e,t),He(e)}(me(Error));function qe(t,e){return R.useCallback(function(r){t.current=r,typeof e=="function"?e(r):de(e)==="object"&&e!==null&&(e.current=r)},[t,e])}function ne(t,e){var r=e.value,a=e.selectionStart,i=e.selectionEnd;r!==void 0&&(t.value=r),a!==void 0&&i!==void 0&&t.setSelectionRange(a,i)}var We=["text","email","tel","search","url"];function Ye(t){var e=t.init,r=t.tracking,a=t.eventType,i=t.eventHandler,n=R.useRef({timeoutId:-1,fallbackTimeoutId:-1,cachedTimeoutId:-1,start:0,end:0}),c=R.useRef(!0),o=R.useRef(null),l=R.useRef({init:e,tracking:r,eventType:a,eventHandler:i});return l.current.init=e,l.current.tracking=r,l.current.eventType=a,l.current.eventHandler=i,R.useMemo(function(){return function(p,s,m){var v=m.onFocus,d=m.onBlur,h=m.onInput;return new Proxy(p,{set:function(k,y,u){if(y!=="current")return!1;var g=u!==null&&We.includes(u.type);if(u!==p.current&&(p.current!==null&&(p.current.removeEventListener("focus",v),p.current.removeEventListener("blur",d),p.current.removeEventListener("input",h)),u!==null&&g)){var w,j=(w=u._wrapperState)!==null&&w!==void 0?w:{},O=j.controlled,A=O!==void 0&&O,F=j.initialValue,E=F===void 0?"":F,S=s({controlled:A,initialValue:u.value||E});ne(u,{value:S.value}),document.activeElement===u&&v(),u.addEventListener("focus",v),u.addEventListener("blur",d),u.addEventListener("input",h)}return k[y]=u,!0}})}(o,l.current.init,{onFocus:function(){n.current.timeoutId=window.setTimeout(function p(){var s,m,v,d;c.current?(n.current.start=(s=(m=o.current)===null||m===void 0?void 0:m.selectionStart)!==null&&s!==void 0?s:0,n.current.end=(v=(d=o.current)===null||d===void 0?void 0:d.selectionEnd)!==null&&v!==void 0?v:0,n.current.timeoutId=window.setTimeout(p)):n.current.fallbackTimeoutId=window.setTimeout(p)})},onBlur:function(){window.clearTimeout(n.current.timeoutId),window.clearTimeout(n.current.fallbackTimeoutId),n.current.timeoutId=-1,n.current.fallbackTimeoutId=-1,n.current.cachedTimeoutId=-1},onInput:function(p){var s=o.current;if(s!==null)try{var m,v,d,h,k;if(n.current.cachedTimeoutId===n.current.timeoutId)throw new W("The input selection has not been updated.");n.current.cachedTimeoutId=n.current.timeoutId;var y=s.value,u=s.selectionStart,g=s.selectionEnd;if(u===null||g===null)throw new W("The selection attributes have not been initialized.");var w,j=(m=(v=s._valueTracker)===null||v===void 0||(d=v.getValue)===null||d===void 0?void 0:d.call(v))!==null&&m!==void 0?m:"";if(p.inputType===void 0&&(n.current.start=0,n.current.end=j.length),u>n.current.start?w="insert":u<=n.current.start&&u<n.current.end?w="deleteBackward":u===n.current.end&&y.length<j.length&&(w="deleteForward"),w===void 0||(w==="deleteBackward"||w==="deleteForward")&&y.length>j.length)throw new W("Input type detection error.");var O="",A="",F=n.current.start,E=n.current.end;if(w==="insert")O=y.slice(n.current.start,u);else{var S=j.length-y.length;F=u,E=u+S,A=j.slice(F,E)}var $=l.current.tracking({inputType:w,previousValue:j,value:y,addedValue:O,deletedValue:A,changeStart:F,changeEnd:E,selectionStart:u,selectionEnd:g});ne(s,{value:$.value,selectionStart:$.selectionStart,selectionEnd:$.selectionEnd});var L=l.current.eventType,U=l.current.eventHandler;if(typeof L=="string"&&U){var V=s.value,Y=s.selectionStart,J=s.selectionEnd;c.current=!1,requestAnimationFrame(function(){ne(s,{value:V,selectionStart:Y!=null?Y:V.length,selectionEnd:J!=null?J:V.length});var I=new CustomEvent(L,{bubbles:!0,cancelable:!1,composed:!0,detail:$.__detail});s.dispatchEvent(I),ge.unstable_batchedUpdates?ge.unstable_batchedUpdates(U,I):U(I),c.current=!0})}(h=s._valueTracker)===null||h===void 0||(k=h.setValue)===null||k===void 0||k.call(h,j),n.current.start=$.selectionStart,n.current.end=$.selectionEnd}catch(I){var z,C,X,B,D,Z,M,H,x,T,_,P=I,N=P.name,b=P.cause;if(ne(s,{value:(z=(C=b==null||(X=b.__attributes)===null||X===void 0?void 0:X.value)!==null&&C!==void 0?C:(B=s._valueTracker)===null||B===void 0||(D=B.getValue)===null||D===void 0?void 0:D.call(B))!==null&&z!==void 0?z:"",selectionStart:(Z=b==null||(M=b.__attributes)===null||M===void 0?void 0:M.selectionStart)!==null&&Z!==void 0?Z:n.current.start,selectionEnd:(H=b==null||(x=b.__attributes)===null||x===void 0?void 0:x.selectionEnd)!==null&&H!==void 0?H:n.current.end}),(b==null||(T=b.__attributes)===null||T===void 0?void 0:T.selectionStart)!==void 0&&(n.current.start=b.__attributes.selectionStart),(b==null||(_=b.__attributes)===null||_===void 0?void 0:_.selectionEnd)!==void 0&&(n.current.end=b.__attributes.selectionEnd),p.preventDefault(),p.stopPropagation(),N!=="SyntheticChangeError")throw I}}})},[])}function Pe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mask,r=e===void 0?"":e,a=t.replacement,i=a===void 0?{}:a,n=t.showMask,c=n!==void 0&&n,o=t.separate,l=o!==void 0&&o,p=t.track,s=t.modify,m=t.onMask,v=typeof i=="string"?pe(i):i,d=R.useRef(null);return Ye({init:function(h){var k=h.controlled,y=h.initialValue;y=k||y?y:c?r:"";var u={mask:r,replacement:v,showMask:c,separate:l};return d.current={value:y,props:u,fallbackProps:u},{value:y}},tracking:function(h){var k,y=h.inputType,u=h.previousValue,g=h.addedValue,w=h.changeStart,j=h.changeEnd;if(d.current===null)throw new W("The state has not been initialized.");d.current.value!==u?d.current.props=d.current.fallbackProps:d.current.fallbackProps=d.current.props;var O=xe(u,{end:w,mask:d.current.props.mask,replacement:d.current.props.replacement,separate:d.current.props.separate}),A=RegExp("[^".concat(Object.keys(d.current.props.replacement).join(""),"]"),"g"),F=d.current.props.mask.replace(A,"");O&&(O=ue(O,{replacementChars:F,replacement:d.current.props.replacement,separate:d.current.props.separate}));var E=p==null?void 0:p(se(se({},y==="insert"?{inputType:y,data:g}:{inputType:y,data:null}),{},{value:u,selectionStart:w,selectionEnd:j}));if(E===!1)throw new W("Custom trekking stop.");if(E===null?g="":E!==!0&&E!==void 0&&(g=E),g&&(g=ue(g,{replacementChars:F.slice(O.length),replacement:d.current.props.replacement,separate:!1})),y==="insert"&&g==="")throw new W("The character does not match the key value of the `replacement` object.");var S=xe(u,{start:j,mask:d.current.props.mask,replacement:d.current.props.replacement,separate:d.current.props.separate});if(d.current.props.separate){var $=d.current.props.mask.slice(w,j).replace(A,""),L=$.length-g.length;L<0?S=S.slice(-L):L>0&&(S=$.slice(-L)+S)}S&&(S=ue(S,{replacementChars:F.slice(O.length+g.length),replacement:d.current.props.replacement,separate:d.current.props.separate}));var U=O+g+S,V=(k=s==null?void 0:s(U))!==null&&k!==void 0?k:{},Y=V.mask,J=Y===void 0?r:Y,z=V.replacement,C=z===void 0?v:z,X=V.showMask,B=X===void 0?c:X,D=V.separate,Z=D===void 0?l:D;typeof C=="string"&&(C=pe(C));var M=function(x,T){var _=T.mask,P=T.replacement,N=T.showMask,b=ze(x,{mask:_,replacement:P,showMask:N}),I=Xe(b,{mask:_,replacement:P}),K=Oe({mask:_,replacement:P}),oe=Oe({mask:_,replacement:P},!0);return{value:b,input:x,parts:I,pattern:K,isValid:RegExp(oe).test(b)}}(U,{mask:J,replacement:C,showMask:B}),H=function(x){var T,_,P,N=x.inputType,b=x.value,I=x.addedValue,K=x.beforeChangeValue,oe=x.parts,Ie=x.replacement,Fe=x.separate,ae=oe.filter(function(le){var he=le.type;return he==="input"||Fe&&he==="replacement"}),ve=(T=ae[K.length+I.length-1])===null||T===void 0?void 0:T.index,Q=(_=ae[K.length-1])===null||_===void 0?void 0:_.index,q=(P=ae[K.length+I.length])===null||P===void 0?void 0:P.index;if(N==="insert"){if(ve!==void 0)return ve+1;if(q!==void 0)return q;if(Q!==void 0)return Q+1}if(N==="deleteForward"){if(q!==void 0)return q;if(Q!==void 0)return Q+1}if(N==="deleteBackward"){if(Q!==void 0)return Q+1;if(q!==void 0)return q}var ye=b.split("").findIndex(function(le){return Object.prototype.hasOwnProperty.call(Ie,le)});return ye!==-1?ye:b.length}({inputType:y,value:M.value,addedValue:g,beforeChangeValue:O,parts:M.parts,replacement:C,separate:Z});return d.current.value=M.value,d.current.props={mask:J,replacement:C,showMask:B,separate:Z},{value:M.value,selectionStart:H,selectionEnd:H,__detail:M}},eventType:"input-mask",eventHandler:m})}var Je=["component","mask","replacement","showMask","separate","track","modify","onMask"];function Ke(t,e){var r=t.component,a=t.mask,i=t.replacement,n=t.showMask,c=t.separate,o=t.track,l=t.modify,p=t.onMask,s=Ue(t,Je),m=Pe({mask:a,replacement:i,showMask:n,separate:c,track:o,modify:l,onMask:p}),v=qe(m,e);return f.jsx(r||"input",se({ref:v},s))}R.forwardRef(Ke);const nt=()=>{var m,v,d,h,k,y;const{employeesList:t,addEmployees:e,showPopup:r}=Le(),{register:a,handleSubmit:i,control:n,reset:c,formState:{errors:o,isValid:l}}=Ae({mode:"onChange"}),p=u=>{console.log(u.employeeAvatar),e({...we,id:t.length+1,image:u.employeeAvatar!==""?URL.createObjectURL(u.employeeAvatar):"",firstName:u.employeeName,lastName:u.employeeName,email:u.employeeEmail,phone:u.employeePhone,company:{...we.company,title:u.employeePosition}}),c(),r()},s=Pe({mask:"+38 (___) ___-__-__",replacement:"_"});return f.jsxs(ce,{component:"section",className:"sign-up__section",children:[f.jsx(_e,{variant:"h2",sx:{marginBottom:"50px"},children:"Sign Up"}),f.jsxs(ce,{component:"form",className:"sign-up__form",onSubmit:i(p),children:[f.jsx(ie,{id:"employeeName",label:"Your name",variant:"outlined",color:"primary",...a("employeeName",{required:!0,minLength:{value:2,message:"Minimum length should be 2"},maxLength:{value:60,message:"Maximum length should be 60"},validate:{correctFormat:u=>/^[a-zA-Z]+$/.test(u)||"Only letters"}}),error:!!o.employeeName,helperText:((v=(m=o==null?void 0:o.employeeName)==null?void 0:m.message)==null?void 0:v.toString())||""}),f.jsx(ie,{id:"employeeEmail",label:"Email",variant:"outlined",color:"primary",...a("employeeEmail",{validate:{correctFormat:u=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(u)||"Invalid email address"}}),error:!!o.employeeEmail,helperText:((h=(d=o==null?void 0:o.employeeEmail)==null?void 0:d.message)==null?void 0:h.toString())||""}),f.jsx(ie,{error:!!o.employeePhone,inputRef:s,id:"employeePhone",label:"Phone",variant:"outlined",color:"primary",...a("employeePhone",{validate:{correctFormat:u=>/^\+38 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(u)}}),helperText:((y=(k=o==null?void 0:o.employeePhone)==null?void 0:k.message)==null?void 0:y.toString())||"+38 (XXX) XXX - XX - XX"}),f.jsxs(Me,{children:[f.jsx(Re,{id:"radio-buttons-group-label",children:"Select your position"}),f.jsx(be,{name:"employeePosition",control:n,defaultValue:"Frontend developer",render:({field:u})=>f.jsxs(Ve,{"aria-labelledby":"radio-buttons-group-label",...u,children:[f.jsx(te,{value:"Frontend developer",control:f.jsx(re,{}),label:"Frontend developer"}),f.jsx(te,{value:"Backend developer",control:f.jsx(re,{}),label:"Backend developer"}),f.jsx(te,{value:"Designer",control:f.jsx(re,{}),label:"Designer"}),f.jsx(te,{value:"QA",control:f.jsx(re,{}),label:"QA"})]})})]}),f.jsx(be,{name:"employeeAvatar",control:n,defaultValue:"",render:({field:{onChange:u}})=>f.jsx(Be,{onImageChange:u})}),f.jsx(Se,{variant:"contained",sx:{margin:"auto",display:"block"},type:"submit",disabled:!l,children:"Sign up"})]})]})};export{nt as default};
